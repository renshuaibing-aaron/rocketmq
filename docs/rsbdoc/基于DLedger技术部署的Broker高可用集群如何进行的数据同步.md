1.这个主从模式Raft协议可以联想Zk的ZAB协议 本质就是可以认为zk怎么接收写请求处理的
首先明白从节点只能读 不能写  从节点在接收到写请求后 会转发给主节点  然后进入两阶段提交
也就是 首先主节点发送事务请求到从节点 然后收到过半的ACK然后进行  然后再发送事务提交请求

保证数据的一致性


2.这里有个问题 就是生产者在往rocketMQ里面写数据的时候什么时候认为写成功了,如果是往集群里面写数据 其实一旦待提交的
返回值过半 就认为写成功了 即使这时候主节点宕机 重新进行leader选举 写在从节点的数据还是可以进行恢复的